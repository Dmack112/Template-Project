function loadReactPortlets(n){function e(){function c(){u<i.length&&f(i[u]).done(function(){u++;c()})}for(var t,h,o="",i=[],u=0,s=r.getItems(),e=0;e<s.length;e++)t=s[e],t=t.replace(/\(RESOURCE_PATH\)/gi,n),t.indexOf(".css")!=-1&&(o+=t),t.indexOf(".js")!=-1&&(h=$(t).attr("src"),i.push(h));$("#divReactPortletCSS").html(o);c()}for(var u,f,i=components.getItems(),r=new ArrayWithNoDuplicates,t=0;t<i.length;t++)u=i[t],$.ajax({url:n+"/"+u+"_resources.json",indexValue:t,success:function(n){for(var t=0;t<n.length;t++)r.addItem(n[t])}}).done(function(){this.indexValue==i.length-1&&e()});f=function(n){var i=$.Deferred(),t=document.createElement("script");return t.async="async",t.type="text/javascript",t.src=n,t.onload=t.onreadystatechange=function(n,r){(!t.readyState||/loaded|complete/.test(t.readyState))&&(r?i.reject():i.resolve())},t.onerror=function(){i.reject()},$("head")[0].appendChild(t),i.promise()}}